'use strict';var k=this;function aa(a,b){var c=a.split("."),d=k;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}function ba(){}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function m(a){return"function"==ca(a)}function da(a,b,c){return a.call.apply(a.bind,arguments)}function ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ea;return r.apply(null,arguments)}function t(a,b){function c(){}c.prototype=b.prototype;a.Ba=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.oa=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function v(a,b){this.b=a|0;this.a=b|0}var fa={},w={};function x(a){if(-128<=a&&128>a){var b=fa[a];if(b)return b}b=new v(a|0,0>a?-1:0);-128<=a&&128>a&&(fa[a]=b);return b}function y(a){isNaN(a)||!isFinite(a)?a=A():a<=-ga?a=B():a+1>=ga?(w[ha]||(w[ha]=new v(-1,2147483647)),a=w[ha]):a=0>a?C(y(-a)):new v(a%D|0,a/D|0);return a}var D=4294967296,ga=D*D/2;function A(){w[ia]||(w[ia]=x(0));return w[ia]}function E(){w[ja]||(w[ja]=x(1));return w[ja]}function ka(){w[la]||(w[la]=x(-1));return w[la]}
function B(){w[ma]||(w[ma]=new v(0,-2147483648));return w[ma]}v.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(F(this))return"0";if(0>this.a){if(G(this,B())){var b=y(a),c=H(this,b),b=I(J(c,b),this);return c.toString(a)+b.b.toString(a)}return"-"+C(this).toString(a)}for(var c=y(Math.pow(a,6)),b=this,d="";;){var e=H(b,c),f=(I(b,J(e,c)).b>>>0).toString(a),b=e;if(F(b))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function K(a){return 0<=a.b?a.b:D+a.b}
function F(a){return 0==a.a&&0==a.b}function G(a,b){return a.a==b.a&&a.b==b.b}function na(a){w[oa]||(w[oa]=x(16777216));return 0>pa(a,w[oa])}function pa(a,b){if(G(a,b))return 0;var c=0>a.a,d=0>b.a;return c&&!d?-1:!c&&d?1:0>I(a,b).a?-1:1}function C(a){return G(a,B())?B():(new v(~a.b,~a.a)).add(E())}
v.prototype.add=function(a){var b=this.a>>>16,c=this.a&65535,d=this.b>>>16,e=a.a>>>16,f=a.a&65535,g=a.b>>>16,h;h=0+((this.b&65535)+(a.b&65535));a=0+(h>>>16);a+=d+g;d=0+(a>>>16);d+=c+f;c=0+(d>>>16);c=c+(b+e)&65535;return new v((a&65535)<<16|h&65535,c<<16|d&65535)};function I(a,b){return a.add(C(b))}
function J(a,b){if(F(a)||F(b))return A();if(G(a,B()))return 1==(b.b&1)?B():A();if(G(b,B()))return 1==(a.b&1)?B():A();if(0>a.a)return 0>b.a?J(C(a),C(b)):C(J(C(a),b));if(0>b.a)return C(J(a,C(b)));if(na(a)&&na(b))return y((a.a*D+K(a))*(b.a*D+K(b)));var c=a.a>>>16,d=a.a&65535,e=a.b>>>16,f=a.b&65535,g=b.a>>>16,h=b.a&65535,q=b.b>>>16,n=b.b&65535,l,p,z,Ca;Ca=0+f*n;z=0+(Ca>>>16);z+=e*n;p=0+(z>>>16);z=(z&65535)+f*q;p+=z>>>16;z&=65535;p+=d*n;l=0+(p>>>16);p=(p&65535)+e*q;l+=p>>>16;p&=65535;p+=f*h;l+=p>>>16;
p&=65535;l=l+(c*n+d*q+e*h+f*g)&65535;return new v(z<<16|Ca&65535,l<<16|p)}
function H(a,b){if(F(b))throw Error("division by zero");if(F(a))return A();if(G(a,B())){if(G(b,E())||G(b,ka()))return B();if(G(b,B()))return E();var c;c=1;if(0==c)c=a;else{var d=a.a;c=32>c?new v(a.b>>>c|d<<32-c,d>>c):new v(d>>c-32,0<=d?0:-1)}c=H(c,b);d=1;if(0!=d){var e=c.b;c=32>d?new v(e<<d,c.a<<d|e>>>32-d):new v(0,e<<d-32)}if(G(c,A()))return 0>b.a?E():ka();d=I(a,J(b,c));return c.add(H(d,b))}if(G(b,B()))return A();if(0>a.a)return 0>b.a?H(C(a),C(b)):C(H(C(a),b));if(0>b.a)return C(H(a,C(b)));e=A();
for(d=a;0<=pa(d,b);){c=Math.max(1,Math.floor((d.a*D+K(d))/(b.a*D+K(b))));for(var f=Math.ceil(Math.log(c)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),g=y(c),h=J(g,b);0>h.a||0<pa(h,d);)c-=f,g=y(c),h=J(g,b);F(g)&&(g=E());e=e.add(g);d=I(d,h)}return e}var ha=1,ma=2,ia=3,ja=4,la=5,oa=6;function qa(a,b){u.Exception.apply(this,arguments);this.name="BigwigException"}t(qa,u.Exception);function L(a){var b=this;u.each(a,function(a,d){b[a]=d})}L.prototype.toString=function(){return JSON.stringify(this,function(a,b){return b instanceof v?0==b.a?K(b):b.toString():b})};function M(a,b,c,d){c=new DataView(c);return N(a,b,c,d)}
function N(a,b,c,d){var e=!d,f={},g=0,h;u.each(b,function(a,b){var d;switch(b){case 8:d=c.getUint32(g,!e);var p=c.getUint32(g+4,!e);d=e?new v(p,d):new v(d,p);break;case 4:d=c.getUint32(g,!e);break;case 2:d=c.getUint16(g,!e);break;case 1:d=c.getUint8(g);break;case -8:d=c.getFloat64(g,!e);break;case -4:d=c.getFloat32(g,!e);break;case 0:for(h=[];g<c.byteLength&&(0==h.length||0!=h[h.length-1]);++g)h.push(c.getUint8(g));d=String.fromCharCode.apply(null,h);break;default:h=new Uint8Array(c.buffer,c.byteOffset+
g,b),d=h.indexOf(0),0<=d&&(h=h.subarray(0,d)),d=String.fromCharCode.apply(null,h)}g+=Math.abs(b);f[a]=d});return u.reflection.applyConstructor(a,[f])}function O(a){var b=0;a=a.Fields;if(!a)throw new qa("Cannot compute size of type (fields not defined)");u.each(a,function(a,d){b+=Math.abs(d)});return b};function ra(){L.apply(this,arguments)}t(ra,L);function sa(a,b,c){return N(ra,{key:b,w:4,M:4},a,c)};function P(){L.apply(this,arguments)}t(P,L);P.Fields={w:4,start:4,end:4,ja:4,ia:4,type:1,H:1,V:2};function Q(){L.apply(this,arguments)}t(Q,L);Q.Fields={P:4,X:4,V:8,D:4,l:4,C:4,m:4,ra:8,va:4,H:4};var ta=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function ua(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ua);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}t(ua,Error);ua.prototype.name="CustomError";var va=Array.prototype,wa=va.some?function(a,b,c){return va.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"==typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function xa(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function ya(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var za;a:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){za=Ba;break a}}za=""};function Da(a){k.setTimeout(function(){throw a;},0)}var Ea;
function Fa(){var a=k.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==za.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==za.indexOf("Trident")&&-1==za.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Y;c.Y=null;a()}};return function(a){d.next={Y:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};function Ga(a,b,c){this.g=c;this.c=a;this.h=b;this.b=0;this.a=null}Ga.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function Ha(a,b){a.h(b);a.b<a.g&&(a.b++,b.next=a.a,a.a=b)};function Ia(){this.b=this.a=null}var Ka=new Ga(function(){return new Ja},function(a){a.reset()},100);Ia.prototype.add=function(a,b){var c=Ka.get();c.a=a;c.b=b;c.next=null;this.b?this.b.next=c:this.a=c;this.b=c};function La(){var a=Ma,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function Ja(){this.next=this.b=this.a=null}Ja.prototype.reset=function(){this.next=this.b=this.a=null};function Na(a,b){Oa||Pa();Qa||(Oa(),Qa=!0);Ma.add(a,b)}var Oa;function Pa(){if(k.Promise&&k.Promise.resolve){var a=k.Promise.resolve(void 0);Oa=function(){a.then(Ra)}}else Oa=function(){var a=Ra;!m(k.setImmediate)||k.Window&&k.Window.prototype&&k.Window.prototype.setImmediate==k.setImmediate?(Ea||(Ea=Fa()),Ea(a)):k.setImmediate(a)}}var Qa=!1,Ma=new Ia;function Ra(){for(var a=null;a=La();){try{a.a.call(a.b)}catch(b){Da(b)}Ha(Ka,a)}Qa=!1};function R(a,b){this.a=Sa;this.G=void 0;this.c=this.b=this.g=null;this.h=this.A=!1;if(a!=ba)try{var c=this;a.call(b,function(a){Ta(c,Ua,a)},function(a){Ta(c,S,a)})}catch(d){Ta(this,S,d)}}var Sa=0,Ua=2,S=3;function Va(){this.next=this.c=this.b=this.g=this.a=null;this.h=!1}Va.prototype.reset=function(){this.c=this.b=this.g=this.a=null;this.h=!1};var Wa=new Ga(function(){return new Va},function(a){a.reset()},100);function Xa(a,b,c){var d=Wa.get();d.g=a;d.b=b;d.c=c;return d}
R.prototype.then=function(a,b,c){return Ya(this,m(a)?a:null,m(b)?b:null,c)};xa(R);function Za(a,b){a.b||a.a!=Ua&&a.a!=S||$a(a);a.c?a.c.next=b:a.b=b;a.c=b}function Ya(a,b,c,d){var e=Xa(null,null,null);e.a=new R(function(a,g){e.g=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.b=c?function(b){try{var e=c.call(d,b);a(e)}catch(n){g(n)}}:g});e.a.g=a;Za(a,e);return e.a}R.prototype.R=function(a){this.a=Sa;Ta(this,Ua,a)};R.prototype.S=function(a){this.a=Sa;Ta(this,S,a)};
function Ta(a,b,c){if(a.a==Sa){a==c&&(b=S,c=new TypeError("Promise cannot resolve to itself"));a.a=1;var d;a:{var e=c,f=a.R,g=a.S;if(e instanceof R)Za(e,Xa(f||ba,g||null,a)),d=!0;else if(ya(e))e.then(f,g,a),d=!0;else{var h=typeof e;if("object"==h&&null!=e||"function"==h)try{var q=e.then;if(m(q)){ab(e,q,f,g,a);d=!0;break a}}catch(n){g.call(a,n);d=!0;break a}d=!1}}d||(a.G=c,a.a=b,a.g=null,$a(a),b!=S||bb(a,c))}}
function ab(a,b,c,d,e){function f(a){h||(h=!0,d.call(e,a))}function g(a){h||(h=!0,c.call(e,a))}var h=!1;try{b.call(a,g,f)}catch(q){f(q)}}function $a(a){a.A||(a.A=!0,Na(a.L,a))}function cb(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.c=null);return b}
R.prototype.L=function(){for(var a=null;a=cb(this);){var b=this.a,c=this.G;if(b==S&&a.b&&!a.h)for(var d=void 0,d=this;d&&d.h;d=d.g)d.h=!1;if(a.a)a.a.g=null,db(a,b,c);else try{a.h?a.g.call(a.c):db(a,b,c)}catch(e){eb.call(null,e)}Ha(Wa,a)}this.A=!1};function db(a,b,c){b==Ua?a.g.call(a.c,c):a.b&&a.b.call(a.c,c)}function bb(a,b){a.h=!0;Na(function(){a.h&&eb.call(null,b)})}var eb=Da;/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function T(a,b){this.h=[];this.ca=b||null;this.b=this.c=!1;this.g=void 0;this.S=this.ma=this.G=!1;this.A=0;this.L=null;this.ba=0}T.prototype.R=function(a,b){this.G=!1;fb(this,a,b)};function fb(a,b,c){a.c=!0;a.g=c;a.b=!b;gb(a)}function hb(a){if(a.c){if(!a.S)throw new ib;a.S=!1}}T.prototype.a=function(a){hb(this);fb(this,!0,a)};T.prototype.da=function(a){hb(this);fb(this,!1,a)};function jb(a,b,c,d){a.h.push([b,c,d]);a.c&&gb(a)}
T.prototype.then=function(a,b,c){var d,e,f=new R(function(a,b){d=a;e=b});jb(this,d,function(a){e(a)});return f.then(a,b,c)};xa(T);function kb(a,b){jb(a,b.a,b.da,b)}function lb(a){return wa(a.h,function(a){return m(a[1])})}
function gb(a){if(a.A&&a.c&&lb(a)){var b=a.A,c=mb[b];c&&(k.clearTimeout(c.O),delete mb[b]);a.A=0}a.L&&(a.L.ba--,delete a.L);for(var b=a.g,d=c=!1;a.h.length&&!a.G;){var e=a.h.shift(),f=e[0],g=e[1],e=e[2];if(f=a.b?g:f)try{var h=f.call(e||a.ca,b);void 0!==h&&(a.b=a.b&&(h==b||h instanceof Error),a.g=b=h);if(ya(b)||"function"===typeof k.Promise&&b instanceof k.Promise)d=!0,a.G=!0}catch(q){b=q,a.b=!0,lb(a)||(c=!0)}}a.g=b;d&&(h=r(a.R,a,!0),d=r(a.R,a,!1),b instanceof T?(jb(b,h,d),b.ma=!0):b.then(h,d));c&&
(b=new nb(b),mb[b.O]=b,a.A=b.O)}function ib(){ua.call(this)}t(ib,ua);ib.prototype.message="Deferred has already fired";ib.prototype.name="AlreadyCalledError";function nb(a){this.O=k.setTimeout(r(this.b,this),0);this.a=a}nb.prototype.b=function(){delete mb[this.O];throw this.a;};var mb={};function ob(){L.apply(this,arguments)}t(ob,L);ob.Fields={o:1,H:1,count:2};function pb(){L.apply(this,arguments)}t(pb,L);pb.Fields={D:4,l:4,C:4,m:4,j:8,K:8};function qb(a,b){return N(pb,pb.Fields,a,b)};function rb(){L.apply(this,arguments)}t(rb,L);rb.Fields={P:4,X:4,W:4,Ea:4,V:8,H:8};function sb(a){this.c=a}function tb(a){this.children=a?a.children||null:null}function ub(a,b){if(a.c){var c=function(a){b.call(null,a)||a.children&&a.children.length&&a.children.forEach(c)};c(a.c)}};function vb(a){sb.apply(this,arguments);this.b=this.a=null}t(vb,sb);function wb(a){tb.apply(this,arguments);this.key=a.key;this.w=a.w;this.M=a.M}t(wb,tb);function xb(a,b){if("number"==typeof b){if(!a.a){var c={};ub(a,function(a){a.children||(c[a.w]=a)});a.a=c}return a.a[b]}if(!a.b){var d={};ub(a,function(a){a.children||(d[a.key]=a)});a.b=d}return a.b[b]};function yb(){L.apply(this,arguments)}t(yb,L);yb.Fields={pa:8,xa:-8,wa:-8,za:-8,Aa:-8};function zb(){L.apply(this,arguments)}t(zb,L);zb.Fields={o:1,H:1,count:2};function Ab(){L.apply(this,arguments)}t(Ab,L);Ab.Fields={ya:4,H:4,j:8,ua:8};function U(){L.apply(this,arguments)}t(U,L);Object.defineProperties(U.prototype,{ga:{get:function(){return 2291137574==this.P}},v:{get:function(){return!this.ga}}});U.Fields={P:4,version:2,Fa:2,$:8,ta:8,aa:8,sa:2,qa:2,na:8,Ca:8,Da:4,H:8};function Bb(){L.apply(this,arguments)}t(Bb,L);function Cb(a,b,c){return N(Bb,{key:b,ha:8},a,c)};function Db(){L.apply(this,arguments)}t(Db,L);Db.Fields={D:4,l:4,C:4,m:4,j:8};function Eb(a,b){return N(Db,Db.Fields,a,b)};function Fb(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,h,q,n,l,p){if("%"==n)return"%";var z=c.shift();if("undefined"==typeof z)throw Error("[goog.string.format] Not enough arguments");arguments[0]=z;return V[n].apply(null,arguments)})}
var V={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+ta(" ",c-a.length):ta(" ",c-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=c-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+ta(" ",a):f+ta(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,
e,f,g,h){return V.f(parseInt(a,10),b,c,d,0,f,g,h)}};V.i=V.d;V.u=V.d;function W(){L.apply(this,arguments)}t(W,L);function X(){W.apply(this,arguments)}t(X,W);X.Fields={U:4,value:-4};function Y(){W.apply(this,arguments)}t(Y,W);Y.Fields={U:4,Z:4,value:-4};function Z(){W.apply(this,arguments)}t(Z,W);Z.Fields={value:-4};function Gb(a){this.a=a}var Hb=O(U);O(Ab);O(yb);var Ib=O(rb),Jb=O(zb),Kb=O(Q),Lb=O(ob),Mb=O(Db),Nb=O(pb),Ob=O(P),Pb={1:[Y,function(a,b){return N(Y,Y.Fields,a,b)},function(a,b){return M(Y,Y.Fields,a,b)}],2:[X,function(a,b){return N(X,X.Fields,a,b)},function(a,b){return M(X,X.Fields,a,b)}],3:[Z,function(a,b){return N(Z,Z.Fields,a,b)},function(a,b){return M(Z,Z.Fields,a,b)}]};
Gb.prototype.get=function(a,b,c){function d(){var a=new XMLHttpRequest;a.open("GET",e.a,!0);a.setRequestHeader("Range",Fb("bytes=%s-%s",g,h));a.responseType="arraybuffer";a.onload=c;a.onreadystatechange=function(){4===a.readyState&&200!==a.status&&206!=a.status&&(--f,f?(console.log("Failed: Range "+Fb("bytes=%s-%s",g,h)+"; retrying..."),d()):console.error("Failed: Range "+Fb("bytes=%s-%s",g,h)))};a.send()}var e=this,f=10,g=a instanceof v?a.toString():a,h=b instanceof v?I(b,x(1)).toString():b-1;d()};
function Qb(a){var b=new T;a.get(0,Hb,function(a){var d=a.target.response;a=(new DataView(d)).getUint32(0);d=M(U,U.Fields,d,2291137574!=a);d.P=a;b.a(d)});return b}function Rb(a,b){var c=new T,d=b.$;a.get(d,d.add(y(Ib)),function(a){a=M(rb,rb.Fields,a.target.response,b.v);c.a(a)});return c}
function Sb(a,b,c,d){var e=new T,f=c.W+8,g=d.add(y(Jb+c.X*f));a.get(d,g,function(a){a=a.target.response;var d;d=new DataView(a,0,Jb);d=N(zb,zb.Fields,d,b.v);for(var g=[],l=0;l<d.count;++l)g.push(d.o?sa(new DataView(a,Jb+l*f,f),c.W,b.v):Cb(new DataView(a,Jb+l*f,f),c.W,b.v));e.a({node:d,items:g})});return e}
function Tb(a,b){var c=null,d=new T;Rb(a,b).then(function(e){function f(c){var d=[];c.items.forEach(function(g){var l=new wb({key:g.key});c.node.o?(l.w=g.w,l.M=g.M):Sb(a,b,e,g.ha).then(function(a){l.children=f(a)});d.push(l)});return d}var g=b.$.add(y(Ib));Sb(a,b,e,g).then(function(a){a=f(a);c=new wb({children:a});d.a(new vb(c))})});return d}function Ub(a,b){var c=new T,d=b.aa;a.get(d,d.add(y(Kb)),function(a){a=M(Q,Q.Fields,a.target.response,b.v);c.a(a)});return c}
function Vb(a,b,c){var d=new T;a.get(c,c.add(y(Lb)),function(a){a=M(ob,ob.Fields,a.target.response,b.v);d.a(a)});return d}function Wb(a,b,c){var d=new T;Vb(a,b,c).then(function(e){var f=c.add(y(Lb)),g=e.o?Nb:Mb,h=f.add(y(e.count*g));a.get(f,h,function(a){a=a.target.response;for(var c=[],f=0;f<e.count;++f)c.push(e.o?qb(new DataView(a,f*g,g),b.v):Eb(new DataView(a,f*g,g),b.v));d.a({node:e,items:c})})});return d}
function Xb(a,b,c){var d=new T;a.get(c.j,c.j.add(c.K),function(a){a=new Uint8Array(a.target.response);a=(new Zlib.Inflate(a)).decompress();var c;c=new DataView(a.buffer,0,Ob);c=N(P,P.Fields,c,b.v);for(var g=[],h=Pb[c.type][1],q=O(Pb[c.type][0]),n=0;n<c.V;++n)g[n]=h(new DataView(a.buffer,Ob+q*n,q),b.v);d.a({la:c,ka:g})});return d}
function Yb(a,b,c,d,e,f){var g=new T;Wb(a,b,f).then(function(f){if(f.node.o){var q=[];f.items.forEach(function(a){q.push(new Zb({o:!0,I:a.D,l:a.l,F:a.C,m:a.m,j:a.j,K:a.K}))});g.a(q)}else{var n=[],l=f.items.length;f.items.forEach(function(f){var h=new Zb({o:!1,I:f.D,l:f.l,F:f.C,m:f.m,j:f.j});n.push(h);f.D>c&&f.C<c?--l:f.C==c&&f.m<=d||f.D==c&&f.l>=e?--l:Yb(a,b,c,d,e,f.j).then(function(a){h.children=a;--l;l||g.a(n)})});l||g.a(n)}});return g}
function $b(a,b,c,d,e){var f=new T;Ub(a,b).then(function(g){var h=b.aa.add(y(Kb)),q=new Zb({o:!1,I:g.D,F:g.C,l:g.l,m:g.m,j:h});Yb(a,b,c,d,e,h).then(function(a){q.children=a;f.a(new ac(q))})});return f};function ac(a){sb.apply(this,arguments)}t(ac,sb);function bc(a,b,c,d){var e=[];ub(a,function(a){if(a.F<b||a.I>b||a.I==b&&a.l>=d||a.F==b&&a.m<=c)return!0;if(a.children&&a.children.length)return!1;e.push(a)});return e}function Zb(a){tb.apply(this,a);this.o=a.o;this.I=a.I;this.F=a.F;this.l=a.l;this.m=a.m;this.j=a.j;this.K=a.K;this.N=a.N}t(Zb,tb);function cc(a,b,c,d,e){this.fa=a;this.T=b;this.J=c;this.ea=d;this.B=e||null}Object.defineProperties(cc.prototype,{chrName:{get:function(){return this.B?xb(this.B,this.chr).key:this.chr}},chr:{get:function(){return this.T.w}},start:{get:function(){return void 0!=this.J.U?this.J.U:this.fa.l+this.T.ja*this.ea}},end:{get:function(){return void 0!=this.J.Z?this.J.Z:this.start+this.T.ia}},value:{get:function(){return this.J.value}}});cc.prototype.toString=function(){return JSON.stringify(this.toJSON())};
cc.prototype.toJSON=function(){return{chr:this.chrName,start:this.start,end:this.end,value:this.value}};function dc(a){this.c=new Gb(a);this.g=this.B=this.a=null}
dc.prototype.b=function(a,b,c){var d=this,e=new T;if(!this.a)return Qb(this.c).then(function(f){d.a=f;kb(d.b(a,b,c),e)}),e;if(!this.B)return Tb(this.c,this.a).then(function(f){d.B=f;kb(d.b(a,b,c),e)}),e;var f=xb(this.B,a).w;if(!this.g)return $b(this.c,this.a,f,b,c).then(function(a){d.g=a;kb(d.b(f,b,c),e)}),e;var g=bc(this.g,f,b,c),h=0;g.forEach(function(a){a.o||(++h,Yb(d.c,d.a,f,b,c,a.j).then(function(g){a.children=g;--h;h||kb(d.b(f,b,c),e)}))});if(h)return e;h=0;g.forEach(function(a){a.N||(++h,Xb(d.c,
d.a,a).then(function(g){a.N=g.ka.map(function(b,c){return new cc(a,g.la,b,c,d.B)});--h;h||kb(d.b(f,b,c),e)}))});if(h)return e;g=g.map(function(a){return a.N.filter(function(a){return a.chr==f&&a.start<c&&a.end>b})}).reduce(function(a,b){return a.concat(b)});e.a(g);return e};aa("bigwig.BigwigFile",dc);dc.prototype.query=dc.prototype.b;aa("bigwig.DataRecord",cc); //@ sourceMappingURL=bigwig.min.js.map
